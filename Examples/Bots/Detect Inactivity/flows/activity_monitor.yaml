name: activity_monitor
states:
    check_last_seen:
        component: check_last_seen
        transitions:
            inactive: ask_help
            active: end

    ask_help:
        component: meya.nlp_yes_no
        properties:
            text: "I haven't heard from you in a while. Do you need help?"
        transitions:
            'yes': transfer
            'no': no_state

    transfer:
        component: human.transfer
        properties:
            text: >
                Okay, please wait one moment while I transfer you to a live 
                agent. This may take a few minutes...
            assignee: "Support"
        return: true
    
    no_state:
        component: meya.text
        properties:
            text: "Okay, I'll be here if you need me!"
        return: true

    end:
        component: meya.pass
        return: true